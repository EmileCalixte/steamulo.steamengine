---

# WRAPPER
steamengine_wrapper_scripts_cron: |
  {% set l = [] %}
  {% for cron in steamengine_crons %}
  {% set _ = l.append({'name': cron.name, 'description': cron.description, 'command': cron.command, 'run_as_app_user': cron.run_as_app_user | default(omit), 'run_in_project_root_path_web': cron.run_in_project_root_path_web | default(omit)}) %}
  {% endfor %}
  {{ l }}

steamengine_wrapper_scripts_systemd_timers: |
  {% set l = [] %}
  {% for timer in steamengine_timers %}
  {% set _ = l.append({'name': timer.name, 'description': timer.description, 'command': timer.command, 'run_as_app_user': timer.run_as_app_user | default(omit), 'run_in_project_root_path_web': timer.run_in_project_root_path_web | default(omit)}) %}
  {% endfor %}
  {{ l }}

steamengine_wrapper_scripts: "{{ steamengine_wrapper_scripts_base | union(steamengine_wrapper_scripts_extra) | union(steamengine_wrapper_scripts_cron) | union(steamengine_wrapper_scripts_systemd_timers) }}"

# USERS
steamengine_project_user: "{{ steamengine_project_name }}"
steamengine_app_user: "{{ steamengine_project_name }}app"

# PATHS
steamengine_home_path: "/{{ steamengine_project_name }}"
steamengine_project_root_path: "{{ steamengine_home_path }}/project_root"
steamengine_project_root_path_web: "{{ steamengine_project_root_path }}/www"
steamengine_conf_path: "{{ steamengine_home_path }}/conf"
steamengine_bin_path: "{{ steamengine_home_path }}/bin"
steamengine_logs_path: "{{ steamengine_home_path }}/logs"
steamengine_persistent_base_path: "/{{ steamengine_project_name }}/storage"

# OTHERS
steamengine_project_types:
  - springboot
  - static
  - nodejs
  - tomcat
  - drupal
  - play
